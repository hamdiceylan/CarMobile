!function(){"use strict";function t(t,n,a,e,r){function u(t){e.remove(p,function(n){return n===t}),r.set(f,p)}function o(){p=[],r.set(f,p)}function c(){a.go("app.restaurant-cart")}function i(){return p}function s(t){var a=l(t.name);return n.show(a).then(function(n){n.canceled||(t.quantity=n.quantity,p.push(t),r.set(f,p))})}function d(t){var a=l(t.name,t.quantity);return n.show(a).then(function(n){n.canceled||(t.quantity=n.quantity,r.set(f,p))})}function l(n,a){var e=t.$new();return e.data={quantity:a||1},{templateUrl:"scripts/cart/add-to-cart.html",title:"Quantity:",scope:e,buttons:[{text:"Cancel",onTap:function(t){return e.data.canceled=!0,e.data}},{text:"<b>Add to cart</b>",type:"button-positive",onTap:function(t){var n=parseInt(e.data.quantity);return n>0?(e.data.quantity=n,e.data):(alert("Quantity should be greather then zero"),void t.preventDefault())}}]}}var f="restaurant-cart",p=r.get(f)||[],y={addToCart:s,showMyCart:c,deleteItem:u,changeQuantity:d,flush:o,getAll:i};return y}angular.module("restaurant.restaurant-cart").factory("restaurantCartService",t),t.$inject=["$rootScope","$ionicPopup","$state","_","localStorageService"]}();